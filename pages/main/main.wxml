<view class="navbar">
  <CustomNav>
    <view class='pair'>
      <view>
        <image bindtap="goBack" id='back' mode="aspectFit" src="/images/back.png" />
      </view>
      <image id="logo" mode="aspectFit" src="/images/logo_white.png" />
    </view>
  </CustomNav>
</view>

<text style="font-size: 30px; font-weight: bold">MAKE A NEW BOOKING</text>

<form bindsubmit="createBooking">

    <!-- START OF CALENDAR -->
    <!-- <view class="container"> -->
      <view class="date-display flex">
        <view class="next-prev" bindtap="changeMonth" data-id="prev">
          <view class="arrow prev"></view>
        </view>
        <picker style="flex:6;width:100%" value="{{currYear+'-'+currMonth}}" fields="month" mode="date" bindchange="handleDatePickerChange">
          <view class="selected-date" style="display:flex;align-items:center;justify-content:center">
            <view>{{currYear}}年{{currMonth}}月</view>
            <view class="arrow down" />
          </view>
        </picker>
        <view class="next-prev" bindtap="changeMonth" data-id="next">
          <view class="arrow next"></view>
        </view>
      </view>
      <view class="week-display flex">
        <view wx:key="{{index}}" wx:for="{{week}}" class="week-cell {{item.class}}">{{item.value}}</view>
      </view>
      <view class="date-picker">
        <view class="flex">
          <view wx:key="{{index}}" wx:for="{{emptyGrids}}" class="date-cell"></view>
          <view wx:key="{{index}}" wx:for="{{days}}" class="date-cell" bindtap="handleSelectDate" data-selected="{{[currYear, currMonth, item.value]}}">
            <view class="{{item.class}}{{selected == item.value ? ' selected': ''}}" data-selected="{{[currYear, currMonth, item.value]}}">{{item.value}}</view>
          </view>
        </view>
      </view>
    <!-- </view> -->
    <!-- END OF CALENDAR -->

    <view wx-if="{{datePicked}}">
      <view>TIME SLOTS:</view>
      <view wx:for="{{timeArray}}" wx:for-item="hour" wx:key="hour">
        <button bindtap="{{hour.clickable}}" data-hour="{{hour}}" class="{{hour.active}} {{hour.available}}">{{hour.time}}</button>
      </view>

      <view>DURATION {{duration}} hours</view>
      <view>PRICE {{price}} RMB</view>
      <button  form-type="submit">SUBMIT</button>
    </view>

</form>